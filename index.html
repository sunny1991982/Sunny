<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunny Shop - üßß ‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤ & ‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --sunny-yellow: #FFD700;
            --sunny-orange: #FF8C00;
            --sunny-red: #FF4500;
            --bg-light: #FFFDF0;
            --text-dark: #333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Kanit', sans-serif; }
        body { background-color: var(--bg-light); color: var(--text-dark); }

        /* Header & Auth */
        nav {
            background: linear-gradient(90deg, var(--sunny-orange), var(--sunny-yellow));
            padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-size: 1.8rem; font-weight: 700; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .nav-right { display: flex; align-items: center; gap: 15px; }

        .auth-btn { 
            background: rgba(255,255,255,0.3); border: none; padding: 8px 12px; 
            border-radius: 20px; color: white; cursor: pointer; font-size: 0.8rem;
        }

        /* Wallet Section */
        .wallet-card {
            background: white; margin: 20px auto; padding: 20px; border-radius: 15px;
            max-width: 500px; text-align: center; border: 2px dashed var(--sunny-orange);
        }
        .credit-balance { font-size: 2rem; color: var(--sunny-red); font-weight: 700; }

        /* Grid & Cards */
        .container { max-width: 1000px; margin: auto; padding: 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .card { 
            background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: 0.3s; position: relative; border: 1px solid #eee;
        }
        .card:hover { transform: scale(1.03); }
        .stock-tag { background: #eee; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }
        .btn-buy { background: var(--sunny-red); color: white; border: none; padding: 10px; border-radius: 10px; width: 100%; cursor: pointer; margin-top: 10px; }

        /* Admin Panels */
        .admin-only { display: none; background: #fff3cd; padding: 20px; border-radius: 15px; margin-bottom: 20px; }
        input, button { padding: 10px; margin: 5px 0; border-radius: 8px; border: 1px solid #ddd; }
        
        /* Modal */
        .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:2000; justify-content:center; align-items:center; }
        .modal-content { background:white; padding:30px; border-radius:20px; width:90%; max-width:400px; position:relative; }
    </style>
</head>
<body>

<nav>
    <div class="logo">‚òÄÔ∏è SUNNY SHOP</div>
    <div class="nav-right">
        <div onclick="openCart()" style="cursor:pointer; color:white;"><i class="fas fa-shopping-basket"></i> <span id="cart-count">0</span></div>
        <button class="auth-btn" onclick="askPassword()"><i class="fas fa-user-lock"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô</button>
    </div>
</nav>

<div class="container">
    <div class="wallet-card">
        <h3>üí∞ ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h3>
        <div class="credit-balance"><span id="user-credit">0</span> ‡∏ø</div>
        <div style="margin-top:10px;">
            <input type="text" id="gift-link" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ã‡∏≠‡∏á‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤ TrueMoney" style="width:70%;">
            <button onclick="redeemGift()" style="background:var(--sunny-orange); color:white; border:none;">‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</button>
        </div>
    </div>

    <div id="admin-panel" class="admin-only">
        <h3>üõ†Ô∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á)</h3>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <input type="text" id="p-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
            <input type="number" id="p-price" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
            <input type="number" id="p-stock" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
            <button onclick="addProduct()" style="grid-column: span 2; background:var(--sunny-orange); color:white;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
        </div>
    </div>

    <div id="product-list" class="product-grid"></div>
</div>

<div id="auth-modal" class="modal">
    <div class="modal-content">
        <h3>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô</h3>
        <input type="password" id="pass-input" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô 8 ‡∏´‡∏•‡∏±‡∏Å" style="width:100%;">
        <button onclick="verifyPass()" style="width:100%; background:var(--sunny-red); color:white;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
        <button onclick="closeModal()" style="width:100%; background:#ccc; border:none; margin-top:5px;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
</div>

<script>
    let credit = parseFloat(localStorage.getItem('sunny_credit')) || 0;
    let products = JSON.parse(localStorage.getItem('sunny_products')) || [
        {id: 1, name: '‡∏™‡πâ‡∏°‡∏°‡∏á‡∏Ñ‡∏•', price: 50, stock: 10},
        {id: 2, name: '‡∏ã‡∏≠‡∏á‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤‡∏•‡∏≤‡∏¢‡∏°‡∏±‡∏á‡∏Å‡∏£', price: 20, stock: 50}
    ];

    function init() {
        updateUI();
        renderProducts();
    }

    function updateUI() {
        document.getElementById('user-credit').innerText = credit.toLocaleString();
        localStorage.setItem('sunny_credit', credit);
    }

    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï / ‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤ ---
    function redeemGift() {
        const link = document.getElementById('gift-link').value;
        if(link.includes('gift.truemoney.com')) {
            // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡∏ã‡∏≠‡∏á (‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠ API TrueMoney)
            const mockAmount = Math.floor(Math.random() * 100) + 10;
            credit += mockAmount;
            alert(`‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${mockAmount} ‡∏ö‡∏≤‡∏ó`);
            document.getElementById('gift-link').value = '';
            updateUI();
        } else {
            alert('‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ã‡∏≠‡∏á‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤ TrueMoney ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
        }
    }

    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ---
    function askPassword() { document.getElementById('auth-modal').style.display = 'flex'; }
    function closeModal() { document.getElementById('auth-modal').style.display = 'none'; }
    
    function verifyPass() {
        const input = document.getElementById('pass-input').value;
        if(input === "19911217") {
            document.getElementById('admin-panel').style.display = 'block';
            closeModal();
            alert('‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô!');
            renderProducts(true); // render ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö
        } else {
            alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!');
        }
    }

    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ---
    function renderProducts(isAdmin = false) {
        const list = document.getElementById('product-list');
        list.innerHTML = products.map(p => `
            <div class="card">
                ${isAdmin ? `<button onclick="removeProduct(${p.id})" style="position:absolute; right:10px; top:10px; color:red; border:none; background:none; cursor:pointer;"><i class="fas fa-trash"></i></button>` : ''}
                <h3>${p.name}</h3>
                <p style="color:var(--sunny-red); font-weight:600;">${p.price} ‡∏ø</p>
                <span class="stock-tag">‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${p.stock} ‡∏ä‡∏¥‡πâ‡∏ô</span>
                <button class="btn-buy" onclick="buyProduct(${p.id})">‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢</button>
            </div>
        `).join('');
    }

    function addProduct() {
        const name = document.getElementById('p-name').value;
        const price = parseFloat(document.getElementById('p-price').value);
        const stock = parseInt(document.getElementById('p-stock').value);

        if(name && price && stock) {
            products.push({ id: Date.now(), name, price, stock });
            localStorage.setItem('sunny_products', JSON.stringify(products));
            renderProducts(true);
            alert('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!');
        }
    }

    function removeProduct(id) {
        if(confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤?')) {
            products = products.filter(p => p.id !== id);
            localStorage.setItem('sunny_products', JSON.stringify(products));
            renderProducts(true);
        }
    }

    function buyProduct(id) {
        const p = products.find(item => item.id === id);
        if(p.stock <= 0) return alert('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!');
        if(credit < p.price) return alert('‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏°‡πà‡∏û‡∏≠! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤');

        if(confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ ${p.name} ‡∏£‡∏≤‡∏Ñ‡∏≤ ${p.price} ‡∏ö‡∏≤‡∏ó?`)) {
            credit -= p.price;
            p.stock -= 1;
            localStorage.setItem('sunny_products', JSON.stringify(products));
            updateUI();
            renderProducts();
            alert('‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß');
        }
    }

    window.onload = init;
</script>
</body>
    </html>
    
